package com.hommy.service;

import java.io.IOException;
import java.net.InetAddress;

import com.hommy.administrator.dao.objects.Device;

public class FindDevicesInTheNetwork implements Runnable {

	private String host;

	public String getIp() {
		return host;
	}

	public void setIp(String ip) {
		this.host = ip;
	}

	public FindDevicesInTheNetwork(String ip) {
		super();
		this.host = ip;
	}

	@Override
	public void run() {
		int timeout = 100;
		System.out.println("Ping IP: " + host);

		try {
			InetAddress ip = InetAddress.getByName(host);
			if (ip.isReachable(timeout)) {
				System.out.println(ip + " is reachable");
				AllDevicesInNetwork.add(new Device(ip.toString()));
			} else {
				System.out.println(ip + " is not reachable");
			}
		} catch (IOException e) {
			e.printStackTrace();
		}
	}

}
